Crafty.c("AStar",{_compareNode:function(b,a){if(b.tile[0]!=a.tile[0]){return false}return true},_nodeInArray:function(b,c){for(var a in c){if(this._compareNode(b,c[a])){return true}}return false},_heuristic:undefined,heuristic:function(a){this._heuristic=a;return this},_findAdjacent:undefined,findAdjacent:function(a){this._findAdjacent=a;return this},findPath:function(q,b,u,d){if(this._heuristic==undefined||this._findAdjacent==undefined){throw ("Exception: You have to declare a heuristic and an adjacent function")}function p(x,v,w,i,y){this.tile=x;this.parent=v;this.g=w;this.h=i;this.f=y}var a=new p(u,-1,-1,-1,-1);var s=new p(d,-1,-1,-1,-1);var k=[];var o=[];var m=0;var j=this._heuristic(a.tile,s.tile);var n=m+j;k.push(a);while(k.length>0){k.sort(function(h,g){var f=h.f;var i=g.f;return((f<i)?-1:((f>i)?1:0))});var c=k[0];if(this._compareNode(c,s)){var t=[s.tile];while(c.parent!=-1){c=o[c.parent];t.unshift(c.tile)}return t}k.shift();o.push(c);var r=this._findAdjacent(c.tile);for(var e in r){if(this._nodeInArray(new p(r[e]),o)){continue}if(q==undefined||!q(c.tile,r[e])){if(!this._nodeInArray(new p(r[e]),k)){var l=new p(r[e],o.length-1,-1,-1,-1);l.g=0;if(b!=undefined){l.g+=b(c.tile,l.tile)}l.h=this._heuristic(l.tile,s.tile);l.f=l.g+l.h;k.push(l)}}}}return[]}});